<md-sidenav-container style="margin: 0;padding: 0;width: 100%">
  <md-toolbar style="background-color:#87cefa">
    <div style="text-align:center;width:100%">注册</div>
  </md-toolbar>
</md-sidenav-container>
<form [formGroup]="form">
  <table style="width:100%;text-align:left;margin:5px;">
    <tr>
      <td>
        用&nbsp;&nbsp;户&nbsp;&nbsp;名:
        <md-input-container>
          <input mdInput placeholder="用户名" maxlength="10" [formControl]="name" #name0>
          <md-hint align="end">{{name0.value.length}} / 10</md-hint>
        </md-input-container>
      </td>
      <td>
        <div [hidden]="name.valid || name.untouched" style="color:#a94442">
          <div [hidden]="!name.hasError('required')">请填写用户名</div>
        </div>
      </td>
    </tr>
    <tr>
      <td>
        所属学校:
        <md-select placeholder="选择省份" (change)="getSchoolByProvince(selectedProvince)" [(ngModel)]="selectedProvince" [ngModelOptions]="{standalone: true}"
          name="province">
          <md-option *ngFor="let province of provinceList" [value]="province.id">{{ province.name }}</md-option>
        </md-select>
      </td>
      <td>
        <md-select placeholder="选择学校" [(ngModel)]="selectedSchool" name="school" [ngModelOptions]="{standalone: true}">
          <md-option *ngFor="let school of schoolList" [value]="school.id">{{ school.name }}</md-option>
        </md-select>
      </td>
    </tr>
    <tr>
      <td>
        手&nbsp;&nbsp;机&nbsp;&nbsp;号:
        <md-input-container>
          <input mdInput placeholder="手机号" maxlength="11" [formControl]="mobile" #mobile0>
          <md-hint align="end">{{mobile0.value.length}} / 11</md-hint>
        </md-input-container>
        <div *ngIf="isPhoneExist" style="color:#a94442">
          手机号已存在
        </div>
        <div [hidden]="mobile.valid || mobile.untouched" style="color:#a94442">
          <div [hidden]="!mobile.hasError('required')">请填写手机号</div>
        </div>
      </td>
      <td>
        <button class="btn btn-danger" (click)="getMessage()" *ngIf="!hasCode" [disabled]="!mobile.valid">获取验证码</button>
        <button class="btn btn-danger" *ngIf="hasCode">{{timer}}秒</button>
      </td>
    </tr>
    <tr>
      <td>
        验&nbsp;&nbsp;证&nbsp;&nbsp;码:
        <md-input-container>
          <input mdInput placeholder="验证码" maxlength="4" [formControl]="code" #code0>
          <md-hint align="end">{{code0.value.length}} / 4</md-hint>
        </md-input-container>
      </td>
      <td>
        <div [hidden]="code.valid || code.untouched" style="color:#a94442">
          <div [hidden]="!code.hasError('required')">请填写验证码</div>
        </div>
      </td>
    </tr>
    <tr>
      <td>
        密&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;码:
        <md-input-container>
          <input mdInput type="password" placeholder="密码" [formControl]="password" maxlength="16" #password0>
        </md-input-container>
      </td>
      <td>
        <div [hidden]="password.valid || password.untouched" style="color:#a94442">
          <div [hidden]="!password.hasError('required')">请填写密码</div>
          <div [hidden]="!password.hasError('minlength')">密码至少6位</div>
        </div>
      </td>

    </tr>
    <tr>
      <td>
        确认密码:
        <md-input-container>
          <input mdInput type="password" placeholder="确认密码" [formControl]="passwordAgain" maxlength="16" #passwordAgain0>
        </md-input-container>
      </td>
      <td>
        <div [hidden]="passwordAgain.valid || passwordAgain.untouched" style="color:#a94442">
          <div [hidden]="!passwordAgain.hasError('required')">请填写密码</div>
        </div>
      </td>
    </tr>
  </table>
  <button (click)="register()" [disabled]="!form.valid" class="btn btn-info btn-block">注册</button>
</form>
<a routerLink="/user/login" class="btn btn-link" style="float:right;margin:20px;">已有账号，请登录</a>
<md-sidenav-container style="margin: 0;padding: 0;width: 100%">
  <md-toolbar style="background-color:#87cefa">
    <button md-icon-button (click)="back()">
          <i class="fa fa-long-arrow-left" style="float:left"></i>
      </button>
    <div style="text-align:center;width:100%">我的消息</div>
  </md-toolbar>
</md-sidenav-container>

<md-tab-group [(selectedIndex)]="index" (selectChange)="selectChange()">
  <md-tab>
    <ng-template md-tab-label>
      评论
      <span class="badge" style="background:red" *ngIf="commentList|filterLength:'read':true">{{commentList|filterLength:'read':true}}</span>
    </ng-template>
    <md-card *ngFor="let a of commentList | sort:'time'" (click)="gotoCommentDetail(a)">
      <md-card-header>
        <div md-card-avatar [ngStyle]="{'background-image': 'url('+a.user.headUrl+')','background-size': 'cover'}" *ngIf="a.user.headUrl"></div>
        <div md-card-avatar [ngStyle]="{'background-image': 'url(/../../assets/img/default.jpeg)','background-size': 'cover'}" *ngIf="!a.user.headUrl"></div>
        <div class="circle" *ngIf="!a.read"></div>
        <md-card-title>
          <div>
            <strong>{{a?.user.name}}</strong>{{a.time|date:'yy/MM/dd HH:mm:ss'}}评论了你:
          </div>
          {{a?.comment}}
        </md-card-title>
        <md-card-subtitle>
          {{a?.article?.title||a?.activity?.title}}
        </md-card-subtitle>
      </md-card-header>
    </md-card>
  </md-tab>
  <md-tab>
    <ng-template md-tab-label>
      👍
      <span class="badge" style="background:red" *ngIf="supportList|filterLength:'read':true">{{supportList|filterLength:'read':true}}</span>
    </ng-template>
    <md-card *ngFor="let a of supportList| sort:'time'" (click)="gotoSupportDetail(a)">
      <md-card-header>
        <div md-card-avatar [ngStyle]="{'background-image': 'url('+a.user.headUrl+')','background-size': 'cover'}" *ngIf="a.user.headUrl"></div>
        <div md-card-avatar [ngStyle]="{'background-image': 'url(../../assets/img/default.jpeg)','background-size': 'cover'}" *ngIf="!a.user.headUrl"></div>
        <div class="circle" *ngIf="!a.read"></div>
        <md-card-title>
          {{a?.user.name}}给你👍{{a.time|date:'yy/MM/dd HH:mm:ss'}}
        </md-card-title>
        <md-card-subtitle>
          {{a?.article?.title||a?.activity?.title}}
        </md-card-subtitle>
      </md-card-header>
    </md-card>
  </md-tab>
</md-tab-group>
<style>
  /deep/ .mat-tab-label {
    width: 49.9% !important;
  }

  .circle {
    width: 8px;
    height: 8px;
    background: red;
    border-radius: 50%;
  }
</style>